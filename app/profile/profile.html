<h1>Profile</h1>
<p>
    You can share your progress with coaches, and teams. You can also enable a public
    profile page.
</p>
<div class="box loading" ng-if="!profileSettings.username && !profileSettings.$resolved">
  <span>
    <i class="fa fa-spinner fa-spin fa-4x fa-fw"></i><br/>
    Loading
</span>
</div>
<div ng-if="!profileSettings.username && profileSettings.$resolved">
  <p>You do not have an username set, to access these functionalities you must have a username set</p>
  <div class="center">
      <form ng-submit="setUsername(newUsername)">
          <input type="text" placeholder="Username" ng-model="newUsername" />
          <input type="submit" value="Set Username" />
      </form>
      <div ng-if="error" class="error">{{ error }}</div>
      <div class="box loading" ng-if="checking">
        <span>
          <i class="fa fa-spinner fa-spin fa-4x fa-fw"></i><br/>
          Checking Username avilability
      </span>
      </div>
  </div>
</div>
<div class="center" ng-if="profileSettings.username">
    <h2>Profile Page</h2>
    <p>
        You can always see your complete profile on
        <a ng-href="/profile/{{ profileSettings.username | lowercase }}">the-tricktionary.com/profile/{{ profileSettings.username | lowercase }}</a>        by enabling a public profile you will make that profile public to everyone.
        You can choose wether to show a list of tricks you've completed, your speed
        highscores or neither. If you choose neither your public profile page will
        just show the ammount of tricks you've completed. If you have your profile
        set to public you can share the above link.
    </p>
    <a ng-click="profileSettings.public = !profileSettings.public; profileSettings.$save()"
        class="black"><i ng-class="(profileSettings.public ? 'checked' : '')" class="checkbox"></i>        Enable public profile</a>
        <div ng-show="profileSettings.public">
            <a ng-click="profileSettings.checklist = !profileSettings.checklist; profileSettings.$save();"
                class="black"><i ng-class="(profileSettings.checklist ? 'checked' : '')" class="checkbox"></i>                Display completed tricks on your public profile page</a>
                </br>
                <a ng-click="profileSettings.speed = !profileSettings.speed; profileSettings.$save();"
                    class="black"><i ng-class="(profileSettings.speed ? 'checked' : '')" class="checkbox"></i>                    Show your speed highscores on your public profile page</a>
                    </br>
        </div>
</div>
<div ng-if="profileSettings.username">
    <h2>Add a coach</h2>
    <div class="center">
        <form ng-submit="addCoach(uid)">
            <input type="text" placeholder="coach username" ng-model="uid" />
            <input type="submit" value="add as coach" />
        </form>
    </div>
    <h3>Your coaches</h3>
    <p>
        <ul class="list">
            <li ng-repeat="coach in coaches">{{ coach.$id }}
                <a ng-confirm-click="Do you really want to remove this person as coach?" confirmed-click="delCoach(coach.$id)"><i class="fa fa-trash-o"></i></a>
            </li>
        </ul>
    </p>
</div>
